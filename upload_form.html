<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
		<link rel="shortcut icon" href="//cdn.craftsv.net/WebShare/favi.ico">
		<link href="//cdn.craftsv.net/Web/Bootstrap3/css/bootstrap.min.css" rel="stylesheet">
		<link href="//cdn.craftsv.net/Web/Google/css/ripples.min.css" rel="stylesheet">
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	</head>
	<body>
		<form method="post" name="uploadForm" enctype="multipart/form-data">
			<input type="file" name="uploadfile" size="60" class="text" />
			<button class="btn btn-default btn-sm" type="submit" onClick="return onUpload();"><i class="fa fa-arrow-up"></i> 업로드</button>
		</form>
	</body>
</html>
<script language="JavaScript" type="text/javascript">
String.prototype.trim = function() {
	var pattern = !arguments[0] ?
		/^\s+|\s+$/g :
		new RegExp('^['+arguments[0]+']+|['+arguments[0]+']+$', 'g');
	return this.replace(pattern, '');
}
var uniqueKey = '[' + Math.random() + ']';
var loc       = "" + document.location;
var urlPath   = loc.substr(loc.indexOf("#")+1)
document.uploadForm.action = urlPath + "?action=Upload&key="+uniqueKey;
function onUpload() {
	var localPath = document.uploadForm.uploadfile.value;
	if( localPath.trim() == "" ) {
		alert("파일을 선택해주십시오.");
		return false;
	} else {
		var pattern  = new RegExp('.*[\\\\/]', 'g');
		var filename = localPath.replace(pattern, '');
		parent.onBeginUpload(filename, uniqueKey);
		return true;
	}
}
</script>
